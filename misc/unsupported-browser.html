<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta content="width=device-width, initial-scale=1.0" name="viewport" />
        <title>Browser Not Supported</title>
        <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
            rel="stylesheet"
        />
        <style>
            :root {
                --background-color: #f0f4f8;
                --text-primary: #1e293b;
                --text-secondary: #475569;
                --accent-color: #3b82f6;
                --warning-color: #f59e0b;
            }
            body {
                font-family: 'Inter', sans-serif;
                background-color: var(--background-color);
            }
        </style>
    </head>
    <body class="flex flex-col items-center justify-center min-h-screen p-6">
        <div class="text-center max-w-3xl mx-auto">
            <svg
                class="w-24 h-24 text-[var(--warning-color)] mx-auto mb-6"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
            >
                <path
                    d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                />
            </svg>
            <h1 class="text-4xl font-bold text-[var(--text-primary)] mb-4">Oops! Your Browser Needs an Upgrade</h1>
            <p id="detected-browser" class="text-lg text-[var(--text-secondary)] mb-3">Detecting your browser...</p>
            <p class="text-lg text-[var(--text-secondary)] mb-10">
                To enjoy all the features and ensure a smooth experience, please switch to one of these recommended
                browsers:
            </p>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-6 justify-items-center">
                <!-- Chrome -->
                <div
                    class="flex flex-col items-center w-[120px] p-4 bg-white rounded-xl shadow-md hover:-translate-y-1 hover:shadow-lg transition-all"
                >
                    <img
                        class="w-18 h-18 mb-3 rounded-xl shadow"
                        width="72"
                        height="72"
                        src="https://cdn.jsdelivr.net/gh/alrra/browser-logos/src/chrome/chrome.svg"
                        alt="Chrome"
                    />
                    <span class="font-semibold text-[var(--text-primary)] mb-1 text-base"> Google Chrome </span>
                    <span class="text-sm text-[var(--text-secondary)]">Version 64+</span>
                </div>
                <!-- Firefox -->
                <div
                    class="flex flex-col items-center w-[120px] p-4 bg-white rounded-xl shadow-md hover:-translate-y-1 hover:shadow-lg transition-all"
                >
                    <img
                        class="w-18 h-18 mb-3 rounded-xl shadow"
                        width="72"
                        height="72"
                        src="https://cdn.jsdelivr.net/gh/alrra/browser-logos/src/firefox/firefox.svg"
                        alt="Firefox"
                    />
                    <span class="font-semibold text-[var(--text-primary)] mb-1 text-base"> Mozilla Firefox </span>
                    <span class="text-sm text-[var(--text-secondary)]">Version 67+</span>
                </div>
                <!-- Safari -->
                <div
                    class="flex flex-col items-center w-[120px] p-4 bg-white rounded-xl shadow-md hover:-translate-y-1 hover:shadow-lg transition-all"
                >
                    <img
                        class="w-18 h-18 mb-3 rounded-xl shadow"
                        width="72"
                        height="72"
                        src="https://cdn.jsdelivr.net/gh/alrra/browser-logos/src/safari/safari.svg"
                        alt="Safari"
                    />
                    <span class="font-semibold text-[var(--text-primary)] mb-1 text-base"> Safari </span>
                    <span class="text-sm text-[var(--text-secondary)]">Version 11.1+</span>
                </div>
                <!-- Edge -->
                <div
                    class="flex flex-col items-center w-[120px] p-4 bg-white rounded-xl shadow-md hover:-translate-y-1 hover:shadow-lg transition-all"
                >
                    <img
                        class="w-18 h-18 mb-3 rounded-xl shadow"
                        width="72"
                        height="72"
                        src="https://cdn.jsdelivr.net/gh/alrra/browser-logos/src/edge/edge.svg"
                        alt="Edge"
                    />
                    <span class="font-semibold text-[var(--text-primary)] mb-1 text-base"> Microsoft Edge </span>
                    <span class="text-sm text-[var(--text-secondary)]">Version 79+</span>
                </div>
            </div>
            <p class="text-sm text-[var(--text-secondary)] mt-10">
                If you believe this message is an error, please
                <a class="text-[var(--accent-color)] hover:underline font-medium" href="#">contact support</a>.
            </p>
        </div>

        <script>
            async function detectBrowser() {
                const fallback = () => {
                    const ua = navigator.userAgent;
                    const m = ua.match(/(edge|edg|chrome|firefox|safari|msie|trident(?=\/))\/?\s*(\d+)/i) || [];
                    let name = m[1] || 'Unknown',
                        ver = m[2] || '';
                    if (/trident/i.test(m[1])) {
                        name = 'Internet Explorer';
                        const rv = /\brv[ :]+(\d+)/g.exec(ua) || [];
                        ver = rv[1] || '';
                    }
                    if (/edg/i.test(name)) name = 'Microsoft Edge';
                    else if (/chrome/i.test(name) && /opr|opera/i.test(ua)) name = 'Opera';
                    else if (/chrome/i.test(name)) name = 'Google Chrome';
                    else if (/firefox/i.test(name)) name = 'Mozilla Firefox';
                    else if (/safari/i.test(name)) name = 'Safari';
                    return { name, version: ver };
                };

                try {
                    const res = await fetch('https://api.whatismybrowser.com/api/v2/user_agent_parse', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'X-API-KEY': 'f3c3968d08185e9c45a7cf28caabc744',
                        },
                        body: JSON.stringify({ user_agent: navigator.userAgent }),
                    });
                    if (!res.ok) throw new Error(`HTTP ${res.status}`);
                    const data = await res.json();
                    const browser = data.parse?.simple_software_string || 'Unknown Browser';
                    document.getElementById('detected-browser').innerHTML =
                        `It looks like you're using <span class="font-semibold text-[var(--accent-color)]">${browser}</span>, which isn't fully compatible with our site.`;
                } catch (e) {
                    console.warn('API v3 failed â€” using fallback', e);
                    const fb = fallback();
                    document.getElementById('detected-browser').innerHTML =
                        `It looks like you're using <span class="font-semibold text-[var(--accent-color)]">${fb.name} ${fb.version}</span>, which isn't fully compatible with our site.`;
                }
            }
            detectBrowser();
        </script>
    </body>
</html>
